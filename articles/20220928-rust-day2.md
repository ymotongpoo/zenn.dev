---
title: "Rustã®å‹‰å¼· 2æ—¥ç›®"
emoji: "ğŸ¦€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rust", "exercise"]
published: true
---

## Rustlingsã®ç’°å¢ƒè¨­å®šã‚’ã™ã‚‹

[å…¬å¼ã‚µã‚¤ãƒˆ](https://www.rust-lang.org/learn) ã«æ•™æã¨ã—ã¦Rustlingsã¸ã®ãƒªãƒ³ã‚¯ãŒã‚ã£ãŸã®ã§ã¨ã‚Šã‚ãˆãšãã‚Œã‚’ã‚„ã‚‹ã“ã¨ã«ã—ãŸã€‚

@[card](https://github.com/rust-lang/rustlings)

```console
$ curl -L https://raw.githubusercontent.com/rust-lang/rustlings/main/install.sh | bash -s rustlings
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  4591  100  4591    0     0  17429      0 --:--:-- --:--:-- --:--:-- 18146
Let's get you set up with Rustlings!
Checking requirements...
SUCCESS: Git is installed
SUCCESS: cc is installed
SUCCESS: rustup is installed
SUCCESS: Rust is installed
SUCCESS: Cargo is installed
SUCCESS: Rust is up to date
Cloning Rustlings at rustlings...
Checking out version tags/5.2.1...
Installing the 'rustlings' executable...
  Installing rustlings v5.2.1 (/Users/yoshifumi/personal/rustlings)
    Updating crates.io index
  Downloaded argh v0.1.9
  Downloaded fsevent v0.4.0
  Downloaded notify v4.0.17
  Downloaded indicatif v0.16.2
  Downloaded toml v0.5.9
  Downloaded number_prefix v0.4.0
  Downloaded argh_derive v0.1.9
  Downloaded console v0.15.1
  Downloaded argh_shared v0.1.9
  Downloaded glob v0.3.0
  Downloaded filetime v0.2.17
  Downloaded walkdir v2.3.2
  Downloaded terminal_size v0.1.17
  Downloaded same-file v1.0.6
  Downloaded fsevent-sys v2.0.1
  Downloaded 15 crates (315.8 KB) in 0.94s
   Compiling proc-macro2 v1.0.44
   Compiling unicode-ident v1.0.4
   Compiling libc v0.2.133
   Compiling quote v1.0.21
   Compiling syn v1.0.101
   Compiling serde_derive v1.0.145
   Compiling memchr v2.5.0
   Compiling serde v1.0.145
   Compiling unicode-width v0.1.10
   Compiling regex-syntax v0.6.27
   Compiling argh_shared v0.1.9
   Compiling heck v0.4.0
   Compiling serde_json v1.0.85
   Compiling cfg-if v1.0.0
   Compiling once_cell v1.15.0
   Compiling bitflags v1.3.2
   Compiling same-file v1.0.6
   Compiling ryu v1.0.11
   Compiling number_prefix v0.4.0
   Compiling itoa v1.0.3
   Compiling lazy_static v1.4.0
   Compiling home v0.5.3
   Compiling glob v0.3.0
   Compiling walkdir v2.3.2
   Compiling aho-corasick v0.7.19
   Compiling regex v1.6.0
   Compiling terminal_size v0.1.17
   Compiling fsevent-sys v2.0.1
   Compiling filetime v0.2.17
   Compiling console v0.15.1
   Compiling fsevent v0.4.0
   Compiling notify v4.0.17
   Compiling indicatif v0.16.2
   Compiling argh_derive v0.1.9
   Compiling argh v0.1.9
   Compiling toml v0.5.9
   Compiling rustlings v5.2.1 (/Users/yoshifumi/personal/rustlings)
    Finished release [optimized] target(s) in 15.28s
  Installing /Users/yoshifumi/.cargo/bin/rustlings
   Installed package `rustlings v5.2.1 (/Users/yoshifumi/personal/rustlings)` (executable `rustlings`)
All done! Run 'rustlings' to get started.
```

ã•ã¦å§‹ã‚ã‚‹ã‹ã¨æ€ã£ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã®READMEã‚’è¦‹ã¦ã¿ãŸã‚‰ã€ã¨ã‚Šã‚ãˆãš `exercise` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«READMEãŒã‚ã‚‹ã‹ã‚‰ãã‚Œã‚’èª­ã‚ã€ã¨æ›¸ã„ã¦ã‚ã‚‹ã€‚ã§ `exercise/README` ã‚’è¦‹ãŸã‚‰ã¶ã£ãã‚‰ã¼ã†ã«æ¬¡ã®è¡¨ãŒç½®ã„ã¦ã‚ã£ãŸã€‚

```md
# Exercise to Book Chapter mapping

| Exercise               | Book Chapter        |
| ---------------------- | ------------------- |
| variables              | Â§3.1                |
| functions              | Â§3.3                |
| if                     | Â§3.5                |
| primitive_types        | Â§3.2, Â§4.3          |
| vecs                   | Â§8.1                |
| move_semantics         | Â§4.1, Â§4.2          |
| structs                | Â§5.1, Â§5.3          |
| enums                  | Â§6, Â§18.3           |
| strings                | Â§8.2                |
| modules                | Â§7                  |
| hashmaps               | Â§8.3                |
| options                | Â§10.1               |
| error_handling         | Â§9                  |
| generics               | Â§10                 |
| traits                 | Â§10.2               |
| tests                  | Â§11.1               |
| lifetimes              | Â§10.3               |
| standard_library_types | Â§13.2, Â§15.1, Â§16.3 |
| threads                | Â§16.1, Â§16.2, Â§16.3 |
| macros                 | Â§19.6               |
| clippy                 | n/a                 |
| conversions            | n/a                 |
```

`Book Chapter` ã¨æ›¸ã„ã¦ã‚ã‚‹ã®ã¯ãŠãã‚‰ããƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã®READMEã«æ›¸ã„ã¦ã‚ã£ãŸã€Œåˆå¿ƒè€…ãªã‚‰ã“ã‚Œã‚’èª­ã‚ã€ã¨ã„ã†å…¬å¼ã®æœ¬ã ã¨æ€ã†ã®ã§ã€ä»•æ–¹ãªã„ã‹ã‚‰ãã‚Œã‚’èª­ã¿é€²ã‚ã¦ã„ãã“ã¨ã«ã™ã‚‹ã€‚

@[card](https://doc.rust-lang.org/book/index.html)

å°‘ã—ç‰ˆãŒå¤ã„ã‘ã©æ—¥æœ¬èªç‰ˆã‚‚ã‚ã£ãŸã€‚

@[card](https://doc.rust-jp.rs/book-ja/title-page.html)

## The Rust Programming Language æ—¥æœ¬èªç‰ˆã‚’èª­ã‚“ã§ã„ã

### ã¾ãˆãŒã

@[card](https://doc.rust-jp.rs/book-ja/foreword.html)

ã–ã£ã¨çœºã‚ã¦ãŠã—ã¾ã„

### ã¯ã˜ã‚ã«

@[card](https://doc.rust-jp.rs/book-ja/ch00-00-introduction.html)

ã–ã£ã¨çœºã‚ã¦ã€é ­ã‹ã‚‰èª­ã‚“ã§ã‘ã°ã„ã„ã“ã¨ãŒã‚ã‹ã£ãŸã®ã§ãã®ã¨ãŠã‚Šã«ã™ã‚‹ã€‚

### äº‹å§‹ã‚

@[card](https://doc.rust-jp.rs/book-ja/ch01-00-getting-started.html)

ã€Œ1.1 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã®ç¯€ã¯ã‚‚ã†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯çµ‚ã‚ã£ã¦ã‚‹ã®ã§é£›ã°ã—ãŸã€‚

ã€Œ1.2 Hello, World!ã€ã‚‚å…¬å¼ã‚µã‚¤ãƒˆã®Getting Startedã§ã‚„ã£ãŸå†…å®¹ãŒå‰åŠãªã®ã§é£›ã°ã™ã€‚å¾ŒåŠã§ã„ãã¤ã‹ç¢ºèªäº‹é …ã‚’ç†è§£ã€‚

* `main` é–¢æ•°ãŒã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
* é–¢æ•°ã¯å¿…ãšæ³¢æ‹¬å¼§ã§ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚‹
* ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã¯4ã‚¹ãƒšãƒ¼ã‚¹
* `!` ã¯ãƒã‚¯ãƒ­ã®å‘¼ã³å‡ºã—

ãƒŠã‚¤ãƒ¼ãƒ–ã« `rustc` ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ–¹æ³•ã‚’ã“ã“ã§ç´¹ä»‹ã—ã¦ã‚‹ã‘ã©ã€ä¾å­˜è§£æ±ºã¨ã‹ãŒé¢å€’ã«ãªã‚‹ã‹ã‚‰ã‚ã¨ã§Cargoã‚’ä½¿ã£ã¦ãƒ“ãƒ«ãƒ‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã™ã‚‹ã¨è¨€ã£ã¦çµ‚ã‚ã‚Šã€‚

ã€Œ1.3 Hello, Cargo!ã€ã§ã€ç›´å‰ã®ç¯€ã®è©±é¡Œã‚’å›åã™ã‚‹ã€‚

ã¾ãšã€å‰æã¨ã—ã¦ã€ŒCargoã¯Rustã«ãŠã‘ã‚‹ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ å…¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã€ã§ã‚ã‚‹ã¨ã„ã†ç†è§£ãŒã§ããŸã€‚

```console
cargo new <project name>
```

ã§æ–°ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚’ä½œã£ã¦ãã‚Œã‚‹ï¼ˆ`Cargo.toml` ã¨ `src` ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ã€‚

```console
cargo build
```

ã§ã€ä¾å­˜é–¢ä¿‚ã‚‚å«ã‚ã¦ãƒ“ãƒ«ãƒ‰ã—ã¦ãã‚Œã‚‹ã€‚ã“ã®ã¨ãã€ç´°ã€…ã¨ã—ãŸä¾å­˜é–¢ä¿‚ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ `Cargo.lock` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦è¨˜éŒ²ã—ã¦ãã‚Œã‚‹ã€‚

```console
cargo run
```

ã‚’è¡Œã†ã¨ã€`cargo build` ã—ãŸã‚ã¨ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ è‡ªä½“ã®å®Ÿè¡Œã¾ã§è¡Œã£ã¦ãã‚Œã‚‹ã€‚ã“ã“ã¾ã§ã®æµã‚Œã¯Goã§ã„ã†ã¨ã“ã‚ã® `go build` ã¨ `go run` ã«ä¼¼ã¦ã„ã‚‹ã€‚

### æ•°å½“ã¦ã‚²ãƒ¼ãƒ ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°

@[card](https://doc.rust-jp.rs/book-ja/ch02-00-guessing-game-tutorial.html)

ã„ã‚ˆã„ã‚ˆãƒãƒ³ã‚ºã‚ªãƒ³å½¢å¼ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å…¥ã£ãŸã®ã§é€²ã‚ã¦ã„ãã€‚

```console
cargo new gussing_game
cd guessing_game
```

ã§ã€`main.rs` ã‚’ä¿®æ­£ã—ã¦æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹ã€‚

```rust
use std::io;

fn main() {
    println!("Guess the number!");
    println!("Please input your guess.");

    let mut guess = String::new();
    io::stdin()
        .read_line(&mut guess)
        .expect("Failed to read line");

    println!("You guessed: {}", guess);
}
```

å®Ÿè¡Œã—ã¦ã¿ã‚‹

```console
$ cargo run
   Compiling guessing_game v0.1.0 (/Users/yoshifumi/personal/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 0.22s
     Running `target/debug/guessing_game`
Guess the number!
Please input your guess.
10
You guessed: 10
```

ãã®å¾Œã€è§£èª¬ãŒæ›¸ã„ã¦ã‚ã‚‹

* æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã†ã¡ã€è‡ªå‹•ã§å–ã‚Šè¾¼ã¾ã‚Œã‚‹ã‚‚ã®ãŒ [**prelude**](https://doc.rust-lang.org/std/prelude/index.html) ã¨å‘¼ã°ã‚Œã‚‹
* ãã‚Œä»¥å¤–ã®å ´åˆã¯ `use` æ–‡ã§ä½¿ç”¨ã‚’å®£è¨€ã™ã‚‹
* `let` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§å¤‰æ•°ã‚’å®£è¨€ã—ã€åˆæœŸå€¤ã‚’æŸç¸›ã™ã‚‹ã€‚å¤‰æ•°ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã€‚å¤‰æ•°ã‚’ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã§å®£è¨€ã—ãŸã‹ã£ãŸã‚‰ `mut` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚‚ä»˜ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
* `::` ã¯å‹ã®é–¢é€£é–¢æ•°ï¼ˆassociated functionï¼‰ã®å‘¼ã³å‡ºã—ã«ä½¿ã†ã€‚
* `&` ã¯å‚ç…§ã€‚`read_line` ã¯ `&mut String` ã‚’å—ã‘å–ã‚‹ã®ã§ã€`&mut guess` ã‚’æ¸¡ã™ã€‚ã“ã“ã§æ³¨æ„ã™ã¹ãã¯å‚ç…§ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªã®ã§ã€å‚ç…§ã‚’ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ã—ãŸã‹ã£ãŸã‚‰ `&mut` ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ï¼ˆã“ã“ã§ã¯ `&guess` ã¯ãƒ€ãƒ¡ï¼‰
* `read_line` ã¯ `io::Result` ã¨ã„ã†çµæœå‹ã‚’è¿”ã—ã€çµæœå‹ã¯ `Ok` ã‹ `Err` ã¨ãªã‚‹Enumå‹ã§ã‚ã‚‹ã€‚`io::Result` å‹ã«ã¯ `expect` ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚‹ã®ã§ã€ã“ã‚Œã‚’å‘¼ã³å‡ºã—ã¦ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’ã™ã‚‹ã€‚
  * `Ok` ã ã£ãŸå ´åˆã«ã¯ `expect` ã¯ãŸã èª­ã¿è¾¼ã‚“ã ãƒã‚¤ãƒˆæ•°ã‚’è¿”ã™ã€‚
* `{}` ã¯ `println!` ãƒã‚¯ãƒ­ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã€‚

ã€Œç§˜å¯†ã®æ•°å­—ã‚’ç”Ÿæˆã™ã‚‹ã€ã®ç¯€ã«æ¥ãŸã€‚æ‰‹ã§ `Cargo.toml` ã‚’ä¿®æ­£ã—ã¦ `rand` ã‚¯ãƒ¬ãƒ¼ãƒˆã‚’å…¥ã‚Œã‚‹èª¬æ˜ã‚’ã—ã¦ã„ã‚‹ãŒã€æ˜¨æ—¥ã®è¨­å®šã§ `cargo-edit` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã®ã§æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§å…¥ã‚Œã¦ã—ã¾ãŠã†ã¨æ€ã†ã€‚ãã—ã¦ãã®ã¾ã¾æœ¬æ–‡ã¨åŒæ§˜ã« `cargo build` ã¾ã§è¡Œã†ã€‚

```console
$ cargo add rand
    Updating crates.io index
      Adding rand v0.8.5 to dependencies.
             Features:
             + alloc
             + getrandom
             + libc
             + rand_chacha
             + std
             + std_rng
             - log
             - min_const_gen
             - nightly
             - packed_simd
             - serde
             - serde1
             - simd_support
             - small_rng

$ cat Cargo.toml
[package]
name = "guessing_game"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
rand = "0.8.5"

$ cargo build
  Downloaded ppv-lite86 v0.2.16
  Downloaded rand_chacha v0.3.1
  Downloaded rand_core v0.6.4
  Downloaded getrandom v0.2.7
  Downloaded rand v0.8.5
  Downloaded 5 crates (176.1 KB) in 0.73s
   Compiling libc v0.2.133
   Compiling cfg-if v1.0.0
   Compiling ppv-lite86 v0.2.16
   Compiling getrandom v0.2.7
   Compiling rand_core v0.6.4
   Compiling rand_chacha v0.3.1
   Compiling rand v0.8.5
   Compiling guessing_game v0.1.0 (/Users/yoshifumi/personal/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 3.27s
```

`main.rs` ã®ã‚³ãƒ¼ãƒ‰ã¯å¤‰æ›´ã—ã¦ã„ãªã„ã‘ã‚Œã©ã‚‚ã€`Cargo.toml` ã® `[dependencies]` ã« `rand` ãŒå…¥ã£ãŸã®ã§ã€ `cargo build` ã§ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‹ã‚‰ `rand` ã¨ãã®ä¾å­˜ã‚¯ãƒ¬ãƒ¼ãƒˆã‚’æŒã£ã¦ãã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã€‚

ã‚ã¨ã®èª¬æ˜ã§ `Cargo.lock` ã¯Goã§è¨€ã†ã¨ã“ã‚ã® `go.sum` ã¿ãŸã„ãªã‚‚ã®ã ã¨ã‚ã‹ã£ãŸã€‚ä¾å­˜ã—ã¦ã„ã‚‹ã‚¯ãƒ¬ãƒ¼ãƒˆã‚’æ›´æ–°ã—ãŸã„å ´åˆã«ã¯ `cargo update` ã§æ›´æ–°å¯èƒ½ã€‚

ã“ã“ã¾ã§ã‚ã‹ã£ãŸã¨ã“ã‚ã§ã„ã‚ˆã„ã‚ˆ `main.rs` ã‚’å¤‰æ›´ã™ã‚‹ã€‚

```rust
use rand::Rng;
use std::io;

fn main() {
    println!("Guess the number!");
    let secret_number = rand::thread_rng().gen_range(1..101);

    println!("The secret number is {}", secret_number);
    println!("Please input your guess.");

    let mut guess = String::new();
    io::stdin()
        .read_line(&mut guess)
        .expect("Failed to read line");

    println!("You guessed: {}", guess);
}
```

ã“ã®ã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã®è§£èª¬ã§çŸ¥ã£ãŸã“ã¨ã¯

* `rand::Rng` ã¨ã„ã†ã®å‹ã§ã¯ãªããƒˆãƒ¬ã‚¤ãƒˆï¼ˆã‚ã¨ã§è§£èª¬ã•ã‚Œã‚‹ã¨ã®ã“ã¨ã€‚ã©ã†ã‚‚ç‰¹å®šã®ãƒ¡ã‚½ãƒƒãƒ‰ç¾¤ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã£ã½ã„ï¼Ÿï¼‰
* ç¯„å›²å¼ã¨ã„ã† `é–‹å§‹..çµ‚äº†` ã®å½¢å¼ã®æ›¸ãæ–¹ã§æ•°å€¤ã®ç¯„å›²ã‚’æŒ‡å®š

ã“ã‚Œã‚’å®Ÿè¡Œã—ã¦ã€æ•°å­—ãŒå®Ÿè¡Œã”ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ ã«å¤‰ã‚ã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã£ãŸã€‚

```console
$ cargo run
   Compiling guessing_game v0.1.0 (/Users/yoshifumi/personal/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 0.31s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is 83
Please input your guess.
8
You guessed: 8

$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.02s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is 14
Please input your guess.
3
You guessed: 3
```

ã„ã‚ˆã„ã‚ˆã“ã‚Œã§ä¹±æ•°ã¨å…¥åŠ›å€¤ã‚’æ¯”è¼ƒã—ã¦ã‚²ãƒ¼ãƒ ã«ã™ã‚‹éƒ¨åˆ†ã‚’å®Ÿè£…ã™ã‚‹ã€‚ã‚³ãƒ¼ãƒ‰ã‚’è§£èª¬èª­ã¿ãªãŒã‚‰å®Ÿè£…ã—ãŸã€‚

* Rustã¯å¼·ã„å‹ä»˜ã‘ãªã®ã§å‹ãŒåˆã‚ãªã„ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ããªã„ã€‚
* å¤‰æ•°ã‚’å‹æ¨è«–ã§ãªãå‹ä»˜ãã§å®£è¨€ã™ã‚‹ã¨ãã¯ `let å¤‰æ•°å: å‹å` ã§å®£è¨€ã€‚
* Rustã§ã¯å¤‰æ•°ã®ã‚·ãƒ£ãƒ‰ãƒ¼ã‚¤ãƒ³ã‚°ãŒå¯èƒ½ã€‚é•ã†å‹ã§ã‚‚å•é¡Œãªã„ã€‚
* `match` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãŒå¯èƒ½ã€‚å„ã‚¢ãƒ¼ãƒ ï¼ˆæ¡ä»¶ç¯€ï¼‰ã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§ã¤ãªãã€‚

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("Guess the number!");
    let secret_number = rand::thread_rng().gen_range(1..101);

    println!("The secret number is {}", secret_number);
    println!("Please input your guess.");

    let mut guess = String::new();
    io::stdin()
        .read_line(&mut guess)
        .expect("Failed to read line");
    let guess: u32 = guess.trim().parse().expect("Please type a number!");

    println!("You guessed: {}", guess);
    match guess.cmp(&secret_number) {
        Ordering::Less => println!("Too small!"),
        Ordering::Greater => println!("Too big!"),
        Ordering::Equal => {
            println!("You win!");
            break
        },
    }
}
```

ã“ã‚Œã‚’å®Ÿè¡Œã—ã¦ã€ã¡ã‚ƒã‚“ã¨å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚

```console
cargo run
   Compiling guessing_game v0.1.0 (/Users/yoshifumi/personal/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 0.22s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is 92
Please input your guess.
92
You guessed: 92
You win!
```

æ¬¡ã¯ç¹°ã‚Šè¿”ã—ã®å®Ÿè£…ã€‚ãŸã ç¹°ã‚Šè¿”ã—ã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã ã¨çµ‚äº†ã§ããªããªã£ã¦ã—ã¾ã£ãŸã‚Šã€ä¸æ­£å…¥åŠ›ãŒã‚ã‚‹ã¨æ„å›³ã›ãšãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒçµ‚äº†ã—ã¦ã—ã¾ã†ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã™ã‚‹ã€‚

* `guess.trim().parse()` ã®è¿”ã‚Šå€¤ã§ `match` ã—ã¦ã€Resultå‹ã§ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã€‚
  * `Err` å‹ã®å€¤ã«èˆˆå‘³ãŒãªã„å ´åˆã¯ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã§ã‚¹ãƒ«ãƒ¼ã§ãã‚‹ã€‚
* `guess.cmp()` ã®è¿”ã‚Šå€¤ãŒ `Ordering::Equal` ã ã£ãŸå ´åˆã« `break` ã™ã‚‹
  * ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã§è¤‡æ•°ã®å‡¦ç†ã‚’ã•ã›ãŸã„å ´åˆã«ã¯ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚Œã°è‰¯ã„ã€‚

ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("Guess the number!");
    let secret_number = rand::thread_rng().gen_range(1..101);

    println!("The secret number is {}", secret_number);

    loop {
        println!("Please input your guess.");

        let mut guess = String::new();
        io::stdin()
            .read_line(&mut guess)
            .expect("Failed to read line");
        let guess: u32 = match guess.trim().parse() {
            Ok(num) => num,
            Err(_) => continue,
        };

        println!("You guessed: {}", guess);

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("Too small!"),
            Ordering::Greater => println!("Too big!"),
            Ordering::Equal => {
                println!("You win!");
                break;
            }
        };
    }
}
```

ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨

```console
$ cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.02s
     Running `target/debug/guessing_game`
Guess the number!
The secret number is 91
Please input your guess.
11
You guessed: 11
Too small!
Please input your guess.
100
You guessed: 100
Too big!
Please input your guess.
91
You guessed: 91
You win!
```

ã¡ã‚ƒã‚“ã¨å‹•ã„ãŸã€‚æœ€å¾Œã«ã€æœ€åˆã®æ–¹ã§ç§˜å¯†ã®æ•°å­—ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹è¡Œã‚’æ¶ˆã—ã¦å®Œæˆã€‚

```console
 cargo run
   Compiling guessing_game v0.1.0 (/Users/yoshifumi/personal/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 0.21s
     Running `target/debug/guessing_game`
Guess the number!
Please input your guess.
1
You guessed: 1
Too small!
Please input your guess.
100
You guessed: 100
Too big!
Please input your guess.
50
You guessed: 50
Too big!
Please input your guess.
25
You guessed: 25
Too big!
Please input your guess.
12
You guessed: 12
Too small!
Please input your guess.
19
You guessed: 19
Too big!
Please input your guess.
16
You guessed: 16
Too big!
Please input your guess.
14
You guessed: 14
Too big!
Please input your guess.
13
You guessed: 13
You win!
```

ç„¡äº‹ã«2ç« çµ‚äº†ã€‚ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã€‚
